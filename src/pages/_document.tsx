import { Html, Head, Main, NextScript } from "next/document";
import { ThemeProvider } from "@emotion/react";
import { CssBaseline, Paper, createTheme } from "@mui/material";
import type { AppProps } from "next/app";
import { useContext, useEffect } from "react";
import { DataContext } from "@/contexts/DataComponent";

export default function Document() {
    const { mode } = useContext(DataContext);
    const theme = createTheme({
        palette: {
            mode: "dark",
        },
    });
    useEffect(() => {
        console.log("mode chansdfdsggs: ", mode);
    }, [mode]);
    return (
        <>
            <style jsx global>{`
                body {
                    background-color: ${createTheme({
                        palette: { mode: "dark" },
                    }).palette.background.default};
                }
            `}</style>
            <Html lang="en">
                <Head>
                    <title>Create Next App</title>
                    <meta
                        name="description"
                        content="Generated by create next app"
                    />
                    <meta
                        name="viewport"
                        content="width=device-width, initial-scale=1"
                    />
                    <link rel="icon" href="/favicon.ico" />
                </Head>
                <body>
                    <ThemeProvider theme={theme}>
                        <CssBaseline />
                        <Paper sx={{width: "100vw",height: "100vh"}}>
                        <Main />
                        </Paper>
                    </ThemeProvider>
                    <NextScript />
                </body>
            </Html>
        </>
    );
}
